{"mappings":"AAEA,MAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAYF,SAASC,cAAc,eAEzC,IAAIE,EACAC,EAAU,G,SAqFRC,EAAcC,EAAUC,G,MAExBC,EAAI,oB,kBAEaF,EACXG,qCAEFH,EAAAI,2CACDJ,EAAAK,iCAECL,EAAAM,oEAKHN,EAAAO,4CAEHP,EAAAQ,0BAQYC,QAAAC,IAAAV,GACAF,EAAAG,GAAAU,UAA6CT,C,CA3G7DT,EAAMmB,iBAAiB,SAEvB,SAAiBC,GACf,MAAMC,EAAcD,EAAME,OAAOC,MAAMC,OACvCR,QAAQC,IAAII,GACQ,KAAhBA,GAQN,SAAqBA,GACnB,OAAOI,MAAM,wCAAwCJ,cAAwBK,MAC1EC,IACC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAI,GAG1B,CAhBMC,CAAYX,GACTK,MAAMO,GAiBf,SAAwBA,GAEtB,MAAMxB,EAASwB,EACZC,KAAK3B,GACG,wHAqBbA,EAAA4B,4DAGQ5B,EAAU6B,kCAYJ7B,EAAAG,iCACZH,EAAAI,sCACAJ,EAAA8B,iL,WAWyBnB,UAAAT,E,SAgCoBwB,GAC/B5B,EAA8BJ,SAAAqC,iBAAA,aAC9BlC,EAAmCH,SAAAqC,iBAAA,iBACnC,QAAA9B,EAAA,EAAAA,EAAAJ,EAAqCmC,OAAA/B,IAAAJ,EAAAI,GAAAW,iBAAA,cAErCf,EAAAoC,SAAA,SAAAC,GAEJA,EAAAC,UAAAC,SAAiC,gBACzBF,EAAAC,UAAAE,OAAA,c,2NAvCXX,E,CAvEiBY,CAAeZ,EAAOa,WAEzCC,OAAOC,GAAUhC,QAAQC,IAAI+B,IAEpC","sources":["src/index.js"],"sourcesContent":["// import debounce from \"debounce\";\r\n\r\nconst input = document.querySelector(\"input\");\r\nconst trackList = document.querySelector(\".track-list\");\r\n// \r\nlet btnInfoBox;\r\nlet infoBox = \"\";\r\nlet activeBtnInfoBox;\r\n\r\n// input.addEventListener(\"input\", debounce(onInput, 1000));\r\ninput.addEventListener(\"input\", onInput);\r\n\r\nfunction onInput(event) {\r\n  const searchQuery = event.target.value.trim();\r\n  console.log(searchQuery)\r\n  if (searchQuery !== \"\") {\r\n      fetchTracks(searchQuery)\r\n        .then((tracks) => renderUserList(tracks.results))\r\n      // .then((tracks) => console.log(tracks.results[0]))\r\n      .catch((error) => console.log(error));\r\n  }\r\n}\r\n      \r\nfunction fetchTracks(searchQuery) {\r\n  return fetch(`https://itunes.apple.com/search?term=${searchQuery}&limit=25`).then(\r\n    (response) => {\r\n      if (!response.ok) {\r\n        throw new Error(response.status);\r\n      }\r\n      return response.json();\r\n    }\r\n  );\r\n}\r\n\r\nfunction renderUserList(tracks) {\r\n  // console.log(tracks)\r\n  const markup = tracks\r\n    .map((track) => {\r\n      return `\r\n      <div class=\"track-info\">\r\n        <ul class=\"track-block\">\r\n          <li class=\"box\">\r\n            <img src=${track.artworkUrl100} alt=\"img\">\r\n          </li>\r\n          <li>${track.artistName}</li>\r\n          <li>${track.trackName}</li>\r\n          <li>${track.collectionName}</li>\r\n          <li>${track.primaryGenreName}</li>\r\n          <li><button class=\"btn-info-box\" type=\"button\">+</button></li>\r\n        </ul>\r\n\r\n        <ul class=\"info-box\">\r\n        </ul>\r\n      </div>`\r\n    })\r\n    .join(\"\");\r\n  trackList.innerHTML = markup;\r\n\r\n  onDetailInfoClick(tracks)\r\n}\r\n\r\nfunction renderDetailInfo(track, i) {\r\n  const markup = `\r\n  <li>\r\n    <p>${track.artistName} - ${track.trackName}</p>\r\n    <p>Collection: ${track.collectionName}</p>\r\n    <p>Track Count: ${track.trackCount}</p>\r\n    <p>Price: ${track.collectionPrice}</p>\r\n  </li>\r\n  \r\n  <li>\r\n    <p>Track duration: ${track.trackTimeMillis}</p>\r\n    <p>Track price: ${track.trackPrice}</p>\r\n  </li>`\r\n  console.log(track)\r\n  infoBox[i].innerHTML = markup;\r\n  }\r\n\r\nfunction onDetailInfoClick(tracks) {\r\n  infoBox = document.querySelectorAll(\".info-box\");\r\n  btnInfoBox = document.querySelectorAll(\".btn-info-box\");\r\n\r\n  for (let i = 0; i < btnInfoBox.length; i++) {    \r\n    btnInfoBox[i].addEventListener(\"click\", () => {\r\n      btnInfoBox.forEach(function (item) { \r\n        if (item.classList.contains(\"active-btn\")) {\r\n          item.classList.remove(\"active-btn\");\r\n          item.innerHTML = \"+\";\r\n        }\r\n      })\r\n\r\n      btnInfoBox[i].classList.toggle(\"active-btn\");\r\n      \r\n      if (btnInfoBox[i].classList.contains(\"active-btn\")) { \r\n        infoBox.forEach(function (item) { \r\n          if (item !== \"\") {\r\n            item.innerHTML = \"\";\r\n          }\r\n          })\r\n         renderDetailInfo(tracks[i], i)\r\n          \r\n          btnInfoBox[i].innerHTML = \"-\";        \r\n      }\r\n      else {\r\n        btnInfoBox[i].innerHTML = \"+\";\r\n        infoBox[i].innerHTML = \"\";\r\n      }  \r\n      \r\n    });\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n            // return `<tr class=\"block\">\r\n                // <td><div class=\"box\">\r\n                // <img src=${track.artworkUrl100} alt=\"img\">\r\n                // </div></td>\r\n                // <td>${track.artistName}</td>\r\n                // <td>${track.trackName}</td>\r\n                // <td>${track.collectionName}</td>\r\n                // <td>${track.primaryGenreName}</td>\r\n                \r\n                // <td><button class=\"btn-info-box\" type=\"button\">+</button></td>\r\n\r\n            //     <td class=\"info-box\"></td>\r\n            // </tr>\r\n            "],"names":["$35da740d59af89ba$var$input","document","querySelector","$35da740d59af89ba$var$trackList","$35da740d59af89ba$var$btnInfoBox","$35da740d59af89ba$var$infoBox","$35da740d59af89ba$var$renderDetailInfo","track","i","markup","trackName","collectionName","trackCount","collectionPrice","trackTimeMillis","trackPrice","console","log","innerHTML","addEventListener","event","searchQuery","target","value","trim","fetch","then","response","ok","Error","status","json","$35da740d59af89ba$var$fetchTracks","tracks","map","artworkUrl100","artistName","primaryGenreName","querySelectorAll","length","forEach","item","classList","contains","remove","$35da740d59af89ba$var$renderUserList","results","catch","error"],"version":3,"file":"index.1b75b73c.js.map"}