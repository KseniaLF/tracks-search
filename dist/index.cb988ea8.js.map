{"mappings":"uDAcA,SAASA,EAASC,EAAMC,EAAMC,GAC5B,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAGvC,SAASC,IACP,IAAIC,EAAOC,KAAKC,MAAQL,EAEpBG,EAAOR,GAAQQ,GAAQ,EACzBN,EAAUS,WAAWJ,EAAOP,EAAOQ,IAEnCN,EAAU,KACLD,IACHK,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGvB,CAdI,MAAQH,IAAMA,EAAO,KAgBzB,IAAIa,EAAY,WACdT,EAAUU,KACVX,EAAOY,UACPV,EAAYI,KAAKC,MACjB,IAAIM,EAAUf,IAAcC,EAO5B,OANKA,IAASA,EAAUS,WAAWJ,EAAOP,IACtCgB,IACFV,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,CACT,EAmBA,OAjBAO,EAAUI,MAAQ,WACZf,IACFgB,aAAahB,GACbA,EAAU,KAEd,EAEAW,EAAUM,MAAQ,WACZjB,IACFI,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,KAEjBe,aAAahB,GACbA,EAAU,KAEd,EAEOW,CACT,CAGAf,EAASsB,SAAWtB,EAEpBuB,EAAiBvB,ECnEjB,MAAMwB,EAAQC,SAASC,cAAc,SAC/BC,EAAYF,SAASC,cAAc,eAEzC,IAAIE,EACAC,EAAU,G,WA4EkBC,EAAAC,G,QACtB,6BAEJD,EAAAE,gBAAAF,EAAAG,qCAEAH,EAAAI,2CAEIJ,EAAAK,iCACFL,EAAAM,6EAOEN,EAAAO,4CAECP,EAAAQ,0B,QAEHC,IAAAT,G,EACDC,GAAAS,UAAAC,C,CA7FPjB,EAAMkB,iBAAiB,QAASC,EAAApB,EAAA,EAGhC,SAAiBqB,GACf,MAAMC,EAAcD,EAAME,OAAOC,MAAMC,OACvCC,QAAQV,IAAIM,GACQ,KAAhBA,GAQN,SAAqBA,GACnB,OAAOK,MAAM,wCAAwCL,cAAwBM,MAC1EC,IACC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAI,GAG1B,CAhBMC,CAAYZ,GACTM,MAAMO,GAiBf,SAAwBA,GAEtB,MAAMjB,EAASiB,EACZC,KAAK7B,GACG,yEAcXA,EAAA8B,8EAGF9B,EAAAE,wCAESF,EAAAG,uCACSH,EAAAI,4CAYJJ,EAAA+B,uLAMZC,KAAA,IAEAnC,EAAoBa,UAAAC,EA4BtB,SAAAiB,G,6cA1BiBA,E,CA/DSK,CAAeL,EAAOM,WAEzCC,OAAOC,GAAUjB,QAAQV,IAAI2B,IAEpC,GAZkD","sources":["node_modules/debounce/index.js","src/index.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import debounce from \"debounce\";\r\n\r\nconst input = document.querySelector(\"input\");\r\nconst trackList = document.querySelector(\".track-list\");\r\n// \r\nlet btnInfoBox;\r\nlet infoBox = \"\";\r\nlet activeBtnInfoBox;\r\n\r\ninput.addEventListener(\"input\", debounce(onInput, 1000));\r\n// input.addEventListener(\"input\", onInput);\r\n\r\nfunction onInput(event) {\r\n  const searchQuery = event.target.value.trim();\r\n  console.log(searchQuery)\r\n  if (searchQuery !== \"\") {\r\n      fetchTracks(searchQuery)\r\n        .then((tracks) => renderUserList(tracks.results))\r\n      // .then((tracks) => console.log(tracks.results[0]))\r\n      .catch((error) => console.log(error));\r\n  }\r\n}\r\n      \r\nfunction fetchTracks(searchQuery) {\r\n  return fetch(`https://itunes.apple.com/search?term=${searchQuery}&limit=25`).then(\r\n    (response) => {\r\n      if (!response.ok) {\r\n        throw new Error(response.status);\r\n      }\r\n      return response.json();\r\n    }\r\n  );\r\n}\r\n\r\nfunction renderUserList(tracks) {\r\n  // console.log(tracks)\r\n  const markup = tracks\r\n    .map((track) => {\r\n      return `<tr>\r\n                <td><div class=\"box\">\r\n                <img src=${track.artworkUrl100} alt=\"img\">\r\n                </div></td>\r\n                <td>${track.artistName}</td>\r\n                <td>${track.trackName}</td>\r\n                <td>${track.collectionName}</td>\r\n                <td>${track.primaryGenreName}</td>\r\n                \r\n                <td><button class=\"btn-info-box\" type=\"button\">+</button></td>\r\n            </tr>\r\n            <tr class=\"info-box\"></tr>`\r\n    })\r\n    .join(\"\");\r\n  trackList.innerHTML = markup;\r\n\r\n  onDetailInfoClick(tracks)\r\n}\r\n\r\nfunction renderDetailInfo(track, i) {\r\n  const markup = `<td></td>\r\n  <td>\r\n    <p>${track.artistName} - ${track.trackName}</p>\r\n    <p>Collection: ${track.collectionName}</p>\r\n    <p>Track Count: ${track.trackCount}</p>\r\n    <p>Price: ${track.collectionPrice}</p>\r\n  </td>\r\n  <td></td>\r\n  <td>\r\n    <p>Track duration: ${track.trackTimeMillis}</p>\r\n    <p>Track price: ${track.trackPrice}</p>\r\n  </td>`\r\n  console.log(track)\r\n  infoBox[i].innerHTML = markup;\r\n  }\r\n\r\nfunction onDetailInfoClick(tracks) {\r\n  infoBox = document.querySelectorAll(\".info-box\");\r\n  btnInfoBox = document.querySelectorAll(\".btn-info-box\");\r\n\r\n  for (let i = 0; i < btnInfoBox.length; i++) {    \r\n    btnInfoBox[i].addEventListener(\"click\", () => {\r\n      btnInfoBox.forEach(function (item) { \r\n        if (item.classList.contains(\"active-btn\")) {\r\n          item.classList.remove(\"active-btn\");\r\n          item.innerHTML = \"+\";\r\n        }\r\n      })\r\n\r\n      btnInfoBox[i].classList.toggle(\"active-btn\");\r\n      \r\n      if (btnInfoBox[i].classList.contains(\"active-btn\")) { \r\n        infoBox.forEach(function (item) { \r\n          if (item !== \"\") {\r\n            item.innerHTML = \"\";\r\n          }\r\n          })\r\n         renderDetailInfo(tracks[i], i)\r\n          \r\n          btnInfoBox[i].innerHTML = \"-\";        \r\n      }\r\n      else {\r\n        btnInfoBox[i].innerHTML = \"+\";\r\n        infoBox[i].innerHTML = \"\";\r\n      }  \r\n      \r\n    });\r\n  }\r\n}"],"names":["$2b57139d557ea67a$var$debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","debounce","$2b57139d557ea67a$exports","$35da740d59af89ba$var$input","document","querySelector","$35da740d59af89ba$var$trackList","$35da740d59af89ba$var$btnInfoBox","$35da740d59af89ba$var$infoBox","track","i","artistName","trackName","collectionName","trackCount","collectionPrice","trackTimeMillis","trackPrice","log","innerHTML","markup","addEventListener","$parcel$interopDefault","event","searchQuery","target","value","trim","console","fetch","then","response","ok","Error","status","json","$35da740d59af89ba$var$fetchTracks","tracks","map","artworkUrl100","primaryGenreName","join","$35da740d59af89ba$var$renderUserList","results","catch","error"],"version":3,"file":"index.cb988ea8.js.map"}